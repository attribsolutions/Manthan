{"ast":null,"code":"import _toConsumableArray from\"D:/GitProjects/Manthan/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/GitProjects/Manthan/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Button,Card,CardBody,Col,FormGroup,Input,Label,Row}from\"reactstrap\";import Flatpickr from\"react-flatpickr\";import Select from\"react-select\";import{useDispatch,useSelector}from\"react-redux\";import MRPTable from\"./Table\";import{get_Division_ForDropDown,get_Party_ForDropDown}from\"../../../../../store/Administrator/ItemsRedux/action\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MRPTab(props){var dispatch=useDispatch();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),division=_useState2[0],setDivision=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),partyName=_useState4[0],setPartyName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),effectiveDate=_useState6[0],setEffectiveDate=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),MRP=_useState8[0],setMRP=_useState8[1];var _useSelector=useSelector(function(state){return{Division:state.ItemMastersReducer.Division,Party:state.ItemMastersReducer.Party};}),Party=_useSelector.Party,Division=_useSelector.Division;useEffect(function(){dispatch(get_Division_ForDropDown());dispatch(get_Party_ForDropDown());},[dispatch]);var Party_DropdownOptions=Party.map(function(data){return{value:data.id,label:data.Name};});var Division_DropdownOptions=Division.map(function(data){return{value:data.id,label:data.Name};});var DivisiontHandler=function DivisiontHandler(event){setDivision(event);};var EffectiveDateHandler=function EffectiveDateHandler(e,date){setEffectiveDate(date);};var PartyNameHandler=function PartyNameHandler(event){setPartyName(event);};var MRPHandler=function MRPHandler(event){setMRP(event.target.value);};var addRowsHandler=function addRowsHandler(e){var val={Division:division===\"\"?\"\":division.value,DivisionName:division.label,PartyName:partyName.label,Party:partyName===\"\"?\"\":partyName.value,EffectiveDate:effectiveDate,MRP:MRP,CreatedBy:1,UpdatedBy:1,Company:1,IsDeleted:0,CommonID:0,IsAdd:true};if(!(effectiveDate===\"\")&&!(MRP===\"\")){var totalTableData=props.tableData.length;val.id=totalTableData+1;var updatedTableData=_toConsumableArray(props.tableData);updatedTableData.push(val);props.func(updatedTableData);clearState();}else{alert(\"Please Enter value\");}};var clearState=function clearState(){setDivision(\"\");setPartyName(\"\");setEffectiveDate(\"\");setMRP(\"\");};return/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{md:12,children:[/*#__PURE__*/_jsx(Card,{className:\"text-black\",children:/*#__PURE__*/_jsx(CardBody,{style:{backgroundColor:\"whitesmoke\"},children:/*#__PURE__*/_jsxs(Row,{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Col,{className:\" col col-11 \",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(FormGroup,{className:\" col col-sm-3 \",children:[/*#__PURE__*/_jsx(Label,{children:\"Division\"}),/*#__PURE__*/_jsx(Select,{id:\"dropDivision-\".concat(0),value:division,options:Division_DropdownOptions,onChange:DivisiontHandler})]}),/*#__PURE__*/_jsxs(FormGroup,{className:\"mb-3 col col-sm-3 \",children:[/*#__PURE__*/_jsx(Label,{children:\"Party Name\"}),/*#__PURE__*/_jsx(Select,{id:\"dropPartyName-\".concat(0),value:partyName,options:Party_DropdownOptions,onChange:PartyNameHandler})]}),/*#__PURE__*/_jsxs(FormGroup,{className:\"mb-3 col col-sm-3 \",children:[/*#__PURE__*/_jsx(Label,{children:\"Effective Date\"}),/*#__PURE__*/_jsx(\"div\",{id:\"txtEffectiveDate\".concat(0),children:/*#__PURE__*/_jsx(Flatpickr,{id:\"txtEffectiveDate\".concat(0),value:effectiveDate,className:\"form-control d-block p-2 bg-white text-dark\",placeholder:\"YYYY-MM-DD\",autoComplete:\"off\",options:{altInput:true,altFormat:\"F j, Y\",dateFormat:\"Y-m-d\"},onChange:EffectiveDateHandler})})]}),/*#__PURE__*/_jsxs(FormGroup,{className:\"mb-3 col col-sm-3 \",children:[/*#__PURE__*/_jsx(Label,{children:\"MRP\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"txtMRP\".concat(0),value:MRP,placeholder:\"Please Enter Margin\",onChange:MRPHandler})]})]})}),/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(Row,{className:\" mt-3\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Button,{className:\"btn btn-sm mt-1 mt-3 btn-light  btn-outline-primary  \",type:\"button\",onClick:addRowsHandler,children:[/*#__PURE__*/_jsx(\"i\",{className:\"dripicons-plus\"}),\" Add\"]})})})})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(MRPTable,{tableData:props.tableData,func:props.func})})]})});}export default MRPTab;","map":{"version":3,"names":["React","useEffect","useState","Button","Card","CardBody","Col","FormGroup","Input","Label","Row","Flatpickr","Select","useDispatch","useSelector","MRPTable","get_Division_ForDropDown","get_Party_ForDropDown","MRPTab","props","dispatch","division","setDivision","partyName","setPartyName","effectiveDate","setEffectiveDate","MRP","setMRP","state","Division","ItemMastersReducer","Party","Party_DropdownOptions","map","data","value","id","label","Name","Division_DropdownOptions","DivisiontHandler","event","EffectiveDateHandler","e","date","PartyNameHandler","MRPHandler","target","addRowsHandler","val","DivisionName","PartyName","EffectiveDate","CreatedBy","UpdatedBy","Company","IsDeleted","CommonID","IsAdd","totalTableData","tableData","length","updatedTableData","push","func","clearState","alert","backgroundColor","altInput","altFormat","dateFormat"],"sources":["D:/GitProjects/Manthan/src/pages/Adminisrator/ItemPages/ItemMaster/MRP_Tab/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  Col,\r\n  FormGroup,\r\n  Input,\r\n  Label,\r\n  Row,\r\n} from \"reactstrap\";\r\nimport Flatpickr from \"react-flatpickr\";\r\nimport Select from \"react-select\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport MRPTable from \"./Table\";\r\nimport {\r\n  get_Division_ForDropDown,\r\n  get_Party_ForDropDown,\r\n} from \"../../../../../store/Administrator/ItemsRedux/action\";\r\n\r\nfunction MRPTab(props) {\r\n  const dispatch = useDispatch();\r\n  const [division, setDivision] = useState(\"\");\r\n  const [partyName, setPartyName] = useState(\"\");\r\n  const [effectiveDate, setEffectiveDate] = useState(\"\");\r\n  const [MRP, setMRP] = useState(\"\");\r\n\r\n  const { Party, Division } = useSelector((state) => ({\r\n    Division: state.ItemMastersReducer.Division,\r\n    Party: state.ItemMastersReducer.Party,\r\n  }));\r\n\r\n  useEffect(() => {\r\n    dispatch(get_Division_ForDropDown());\r\n    dispatch(get_Party_ForDropDown());\r\n  }, [dispatch]);\r\n\r\n  const Party_DropdownOptions = Party.map((data) => ({\r\n    value: data.id,\r\n    label: data.Name,\r\n  }));\r\n\r\n  const Division_DropdownOptions = Division.map((data) => ({\r\n    value: data.id,\r\n    label: data.Name,\r\n  }));\r\n\r\n  const DivisiontHandler = (event) => {\r\n    setDivision(event);\r\n  };\r\n\r\n  const EffectiveDateHandler = (e, date) => {\r\n    setEffectiveDate(date);\r\n  };\r\n\r\n  const PartyNameHandler = (event) => {\r\n    setPartyName(event);\r\n  };\r\n\r\n  const MRPHandler = (event) => {\r\n    setMRP(event.target.value);\r\n  };\r\n\r\n  const addRowsHandler = (e) => {\r\n   \r\n    const val = {\r\n      Division: division === \"\" ? \"\" : division.value,\r\n      DivisionName: division.label,\r\n      PartyName: partyName.label,\r\n      Party: partyName === \"\" ? \"\" : partyName.value,\r\n      EffectiveDate: effectiveDate,\r\n      MRP: MRP,\r\n      CreatedBy: 1,\r\n      UpdatedBy: 1,\r\n      Company: 1,\r\n      IsDeleted:0,\r\n      CommonID:0,\r\n      IsAdd:true\r\n    };\r\n\r\n    if (!(effectiveDate === \"\") && !(MRP === \"\")) {\r\n      const totalTableData = props.tableData.length;\r\n      val.id = totalTableData + 1;\r\n      const updatedTableData = [...props.tableData];\r\n      updatedTableData.push(val);\r\n      props.func(updatedTableData);\r\n      clearState();\r\n    } else {\r\n      alert(\"Please Enter value\");\r\n    }\r\n  };\r\n  const clearState = () => {\r\n    setDivision(\"\");\r\n    setPartyName(\"\");\r\n    setEffectiveDate(\"\");\r\n    setMRP(\"\");\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col md={12}>\r\n        <Card className=\"text-black\">\r\n          <CardBody style={{ backgroundColor: \"whitesmoke\" }}>\r\n            <Row className=\"mt-3\">\r\n              <Col className=\" col col-11 \">\r\n                <Row>\r\n                  <FormGroup className=\" col col-sm-3 \">\r\n                    <Label>Division</Label>\r\n                    <Select\r\n                      id={`dropDivision-${0}`}\r\n                      value={division}\r\n                      options={Division_DropdownOptions}\r\n                      onChange={DivisiontHandler}\r\n                    />\r\n                  </FormGroup>\r\n\r\n                  <FormGroup className=\"mb-3 col col-sm-3 \">\r\n                    <Label>Party Name</Label>\r\n                    <Select\r\n                      id={`dropPartyName-${0}`}\r\n                      value={partyName}\r\n                      options={Party_DropdownOptions}\r\n                      onChange={PartyNameHandler}\r\n                    />\r\n                  </FormGroup>\r\n\r\n                  <FormGroup className=\"mb-3 col col-sm-3 \">\r\n                    <Label>Effective Date</Label>\r\n                    <div id={`txtEffectiveDate${0}`}>\r\n                      <Flatpickr\r\n                        id={`txtEffectiveDate${0}`}\r\n                        value={effectiveDate}\r\n                        className=\"form-control d-block p-2 bg-white text-dark\"\r\n                        placeholder=\"YYYY-MM-DD\"\r\n                        autoComplete=\"off\"\r\n                        options={{\r\n                          altInput: true,\r\n                          altFormat: \"F j, Y\",\r\n                          dateFormat: \"Y-m-d\",\r\n                        }}\r\n                        onChange={EffectiveDateHandler}\r\n                      />\r\n                    </div>\r\n                  </FormGroup>\r\n\r\n                  <FormGroup className=\"mb-3 col col-sm-3 \">\r\n                    <Label>MRP</Label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      id={`txtMRP${0}`}\r\n                      value={MRP}\r\n                      placeholder=\"Please Enter Margin\"\r\n                      onChange={MRPHandler}\r\n                    />\r\n                  </FormGroup>\r\n                </Row>\r\n              </Col>\r\n              <Col md={1}>\r\n                <Row className=\" mt-3\">\r\n                  <Col >\r\n                    <Button\r\n                     className=\"btn btn-sm mt-1 mt-3 btn-light  btn-outline-primary  \"\r\n                      type=\"button\"\r\n                      onClick={addRowsHandler}\r\n                    >\r\n                      <i className=\"dripicons-plus\"></i> Add\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </CardBody>\r\n        </Card>\r\n        <Row>\r\n          <MRPTable tableData={props.tableData} func={props.func} />\r\n        </Row>\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default MRPTab;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
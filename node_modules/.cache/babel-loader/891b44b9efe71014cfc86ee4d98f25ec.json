{"ast":null,"code":"export var COMMON_MIME_TYPES = new Map([['avi', 'video/avi'], ['gif', 'image/gif'], ['ico', 'image/x-icon'], ['jpeg', 'image/jpeg'], ['jpg', 'image/jpeg'], ['mkv', 'video/x-matroska'], ['mov', 'video/quicktime'], ['mp4', 'video/mp4'], ['pdf', 'application/pdf'], ['png', 'image/png'], ['zip', 'application/zip'], ['doc', 'application/msword'], ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']]);\nexport function toFileWithPath(file, path) {\n  var f = withMimeType(file);\n\n  if (typeof f.path !== 'string') {\n    // on electron, path is already set to the absolute path\n    var webkitRelativePath = file.webkitRelativePath;\n    Object.defineProperty(f, 'path', {\n      value: typeof path === 'string' ? path // If <input webkitdirectory> is set,\n      // the File will have a {webkitRelativePath} property\n      // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\n      : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0 ? webkitRelativePath : file.name,\n      writable: false,\n      configurable: false,\n      enumerable: true\n    });\n  }\n\n  return f;\n}\n\nfunction withMimeType(file) {\n  var name = file.name;\n  var hasExtension = name && name.lastIndexOf('.') !== -1;\n\n  if (hasExtension && !file.type) {\n    var ext = name.split('.').pop().toLowerCase();\n    var type = COMMON_MIME_TYPES.get(ext);\n\n    if (type) {\n      Object.defineProperty(file, 'type', {\n        value: type,\n        writable: false,\n        configurable: false,\n        enumerable: true\n      });\n    }\n  }\n\n  return file;\n}","map":{"version":3,"mappings":"AAAA,OAAO,IAAMA,iBAAiB,GAAG,IAAIC,GAAJ,CAAQ,CACrC,CAAC,KAAD,EAAQ,WAAR,CADqC,EAErC,CAAC,KAAD,EAAQ,WAAR,CAFqC,EAGrC,CAAC,KAAD,EAAQ,cAAR,CAHqC,EAIrC,CAAC,MAAD,EAAS,YAAT,CAJqC,EAKrC,CAAC,KAAD,EAAQ,YAAR,CALqC,EAMrC,CAAC,KAAD,EAAQ,kBAAR,CANqC,EAOrC,CAAC,KAAD,EAAQ,iBAAR,CAPqC,EAQrC,CAAC,KAAD,EAAQ,WAAR,CARqC,EASrC,CAAC,KAAD,EAAQ,iBAAR,CATqC,EAUrC,CAAC,KAAD,EAAQ,WAAR,CAVqC,EAWrC,CAAC,KAAD,EAAQ,iBAAR,CAXqC,EAYrC,CAAC,KAAD,EAAQ,oBAAR,CAZqC,EAarC,CAAC,MAAD,EAAS,yEAAT,CAbqC,CAAR,CAA1B;AAiBP,OAAM,SAAUC,cAAV,CAAyBC,IAAzB,EAA6CC,IAA7C,EAA0D;EAC5D,IAAMC,CAAC,GAAGC,YAAY,CAACH,IAAD,CAAtB;;EACA,IAAI,OAAOE,CAAC,CAACD,IAAT,KAAkB,QAAtB,EAAgC;IAAE;IACvB,sBAAkB,GAAID,IAA0B,mBAAhD;IACPI,MAAM,CAACC,cAAP,CAAsBH,CAAtB,EAAyB,MAAzB,EAAiC;MAC7BI,KAAK,EAAE,OAAOL,IAAP,KAAgB,QAAhB,GACDA,IADC,CAEH;MACA;MACA;MAJG,EAKD,OAAOM,kBAAP,KAA8B,QAA9B,IAA0CA,kBAAkB,CAACC,MAAnB,GAA4B,CAAtE,GACID,kBADJ,GAEIP,IAAI,CAACS,IARc;MAS7BC,QAAQ,EAAE,KATmB;MAU7BC,YAAY,EAAE,KAVe;MAW7BC,UAAU,EAAE;IAXiB,CAAjC;EAaH;;EAED,OAAOV,CAAP;AACH;;AAeD,SAASC,YAAT,CAAsBH,IAAtB,EAAwC;EAC7B,QAAI,GAAIA,IAAI,KAAZ;EACP,IAAMa,YAAY,GAAGJ,IAAI,IAAIA,IAAI,CAACK,WAAL,CAAiB,GAAjB,MAA0B,CAAC,CAAxD;;EAEA,IAAID,YAAY,IAAI,CAACb,IAAI,CAACe,IAA1B,EAAgC;IAC5B,IAAMC,GAAG,GAAGP,IAAI,CAACQ,KAAL,CAAW,GAAX,EACPC,GADO,GACAC,WADA,EAAZ;IAEA,IAAMJ,IAAI,GAAGlB,iBAAiB,CAACuB,GAAlB,CAAsBJ,GAAtB,CAAb;;IACA,IAAID,IAAJ,EAAU;MACNX,MAAM,CAACC,cAAP,CAAsBL,IAAtB,EAA4B,MAA5B,EAAoC;QAChCM,KAAK,EAAES,IADyB;QAEhCL,QAAQ,EAAE,KAFsB;QAGhCC,YAAY,EAAE,KAHkB;QAIhCC,UAAU,EAAE;MAJoB,CAApC;IAMH;EACJ;;EAED,OAAOZ,IAAP;AACH","names":["COMMON_MIME_TYPES","Map","toFileWithPath","file","path","f","withMimeType","Object","defineProperty","value","webkitRelativePath","length","name","writable","configurable","enumerable","hasExtension","lastIndexOf","type","ext","split","pop","toLowerCase","get"],"sourceRoot":"","sources":["../../src/file.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { takeEvery, fork, put, all, call } from \"redux-saga/effects\"; // Login Redux States\n\nimport { EDIT_PROFILE } from \"./actionTypes\";\nimport { profileSuccess, profileError } from \"./actions\"; //Include Both Helper File with needed methods\n\nimport { getFirebaseBackend } from \"../../../helpers/firebase_helper\";\nimport { postFakeProfile, postJwtProfile } from \"../../../helpers/backend_helper\";\nconst fireBaseBackend = getFirebaseBackend();\n\nfunction* editProfile(_ref) {\n  let {\n    payload: {\n      user\n    }\n  } = _ref;\n\n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const response = yield call(fireBaseBackend.editProfileAPI, user.username, user.idx);\n      yield put(profileSuccess(response));\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"jwt\") {\n      const response = yield call(postJwtProfile, \"/post-jwt-profile\", {\n        username: user.username,\n        idx: user.idx\n      });\n      yield put(profileSuccess(response));\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"fake\") {\n      const response = yield call(postFakeProfile, {\n        username: user.username,\n        idx: user.idx\n      });\n      yield put(profileSuccess(response));\n    }\n  } catch (error) {\n    yield put(profileError(error));\n  }\n}\n\nexport function* watchProfile() {\n  yield takeEvery(EDIT_PROFILE, editProfile);\n}\n\nfunction* ProfileSaga() {\n  yield all([fork(watchProfile)]);\n}\n\n_c = ProfileSaga;\nexport default ProfileSaga;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileSaga\");","map":{"version":3,"names":["takeEvery","fork","put","all","call","EDIT_PROFILE","profileSuccess","profileError","getFirebaseBackend","postFakeProfile","postJwtProfile","fireBaseBackend","editProfile","payload","user","process","env","REACT_APP_DEFAULTAUTH","response","editProfileAPI","username","idx","error","watchProfile","ProfileSaga"],"sources":["D:/GitProjects/Manthan/src/store/auth/profile/saga.js"],"sourcesContent":["import { takeEvery, fork, put, all, call } from \"redux-saga/effects\"\r\n\r\n// Login Redux States\r\nimport { EDIT_PROFILE } from \"./actionTypes\"\r\nimport { profileSuccess, profileError } from \"./actions\"\r\n\r\n//Include Both Helper File with needed methods\r\nimport { getFirebaseBackend } from \"../../../helpers/firebase_helper\"\r\nimport {\r\n  postFakeProfile,\r\n  postJwtProfile,\r\n} from \"../../../helpers/backend_helper\"\r\n\r\nconst fireBaseBackend = getFirebaseBackend()\r\n\r\nfunction* editProfile({ payload: { user } }) {\r\n  try {\r\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\r\n      const response = yield call(\r\n        fireBaseBackend.editProfileAPI,\r\n        user.username,\r\n        user.idx\r\n      )\r\n      yield put(profileSuccess(response))\r\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"jwt\") {\r\n      const response = yield call(postJwtProfile, \"/post-jwt-profile\", {\r\n        username: user.username,\r\n        idx: user.idx,\r\n      })\r\n      yield put(profileSuccess(response))\r\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"fake\") {\r\n      const response = yield call(postFakeProfile, {\r\n        username: user.username,\r\n        idx: user.idx,\r\n      })\r\n      yield put(profileSuccess(response))\r\n    }\r\n  } catch (error) {\r\n    yield put(profileError(error))\r\n  }\r\n}\r\nexport function* watchProfile() {\r\n  yield takeEvery(EDIT_PROFILE, editProfile)\r\n}\r\n\r\nfunction* ProfileSaga() {\r\n  yield all([fork(watchProfile)])\r\n}\r\n\r\nexport default ProfileSaga\r\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,EAA+BC,GAA/B,EAAoCC,IAApC,QAAgD,oBAAhD,C,CAEA;;AACA,SAASC,YAAT,QAA6B,eAA7B;AACA,SAASC,cAAT,EAAyBC,YAAzB,QAA6C,WAA7C,C,CAEA;;AACA,SAASC,kBAAT,QAAmC,kCAAnC;AACA,SACEC,eADF,EAEEC,cAFF,QAGO,iCAHP;AAKA,MAAMC,eAAe,GAAGH,kBAAkB,EAA1C;;AAEA,UAAUI,WAAV,OAA6C;EAAA,IAAvB;IAAEC,OAAO,EAAE;MAAEC;IAAF;EAAX,CAAuB;;EAC3C,IAAI;IACF,IAAIC,OAAO,CAACC,GAAR,CAAYC,qBAAZ,KAAsC,UAA1C,EAAsD;MACpD,MAAMC,QAAQ,GAAG,MAAMd,IAAI,CACzBO,eAAe,CAACQ,cADS,EAEzBL,IAAI,CAACM,QAFoB,EAGzBN,IAAI,CAACO,GAHoB,CAA3B;MAKA,MAAMnB,GAAG,CAACI,cAAc,CAACY,QAAD,CAAf,CAAT;IACD,CAPD,MAOO,IAAIH,OAAO,CAACC,GAAR,CAAYC,qBAAZ,KAAsC,KAA1C,EAAiD;MACtD,MAAMC,QAAQ,GAAG,MAAMd,IAAI,CAACM,cAAD,EAAiB,mBAAjB,EAAsC;QAC/DU,QAAQ,EAAEN,IAAI,CAACM,QADgD;QAE/DC,GAAG,EAAEP,IAAI,CAACO;MAFqD,CAAtC,CAA3B;MAIA,MAAMnB,GAAG,CAACI,cAAc,CAACY,QAAD,CAAf,CAAT;IACD,CANM,MAMA,IAAIH,OAAO,CAACC,GAAR,CAAYC,qBAAZ,KAAsC,MAA1C,EAAkD;MACvD,MAAMC,QAAQ,GAAG,MAAMd,IAAI,CAACK,eAAD,EAAkB;QAC3CW,QAAQ,EAAEN,IAAI,CAACM,QAD4B;QAE3CC,GAAG,EAAEP,IAAI,CAACO;MAFiC,CAAlB,CAA3B;MAIA,MAAMnB,GAAG,CAACI,cAAc,CAACY,QAAD,CAAf,CAAT;IACD;EACF,CArBD,CAqBE,OAAOI,KAAP,EAAc;IACd,MAAMpB,GAAG,CAACK,YAAY,CAACe,KAAD,CAAb,CAAT;EACD;AACF;;AACD,OAAO,UAAUC,YAAV,GAAyB;EAC9B,MAAMvB,SAAS,CAACK,YAAD,EAAeO,WAAf,CAAf;AACD;;AAED,UAAUY,WAAV,GAAwB;EACtB,MAAMrB,GAAG,CAAC,CAACF,IAAI,CAACsB,YAAD,CAAL,CAAD,CAAT;AACD;;KAFSC,W;AAIV,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"D:/GitProjects/Manthan/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Dropdown,DropdownItem,DropdownMenu,DropdownToggle}from\"reactstrap\";import{get,map}from\"lodash\";import{withTranslation}from\"react-i18next\";//i18n\nimport i18n from\"../../../i18n\";import languages from\"../../../common/languages\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LanguageDropdown=function LanguageDropdown(){// Declare a new state variable, which we'll call \"menu\"\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),selectedLang=_useState2[0],setSelectedLang=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),menu=_useState4[0],setMenu=_useState4[1];useEffect(function(){var currentLanguage=localStorage.getItem(\"I18N_LANGUAGE\");setSelectedLang(currentLanguage);},[]);var changeLanguageAction=function changeLanguageAction(lang){//set language as i18n\ni18n.changeLanguage(lang);localStorage.setItem(\"I18N_LANGUAGE\",lang);setSelectedLang(lang);};var toggle=function toggle(){setMenu(!menu);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Dropdown,{isOpen:menu,toggle:toggle,className:\"d-inline-block\",children:[/*#__PURE__*/_jsx(DropdownToggle,{className:\"btn header-item \",tag:\"button\",children:/*#__PURE__*/_jsx(\"img\",{src:get(languages,\"\".concat(selectedLang,\".flag\")),alt:\"Skote\",height:\"16\",className:\"me-1\"})}),/*#__PURE__*/_jsx(DropdownMenu,{className:\"language-switch dropdown-menu-end\",children:map(Object.keys(languages),function(key){return/*#__PURE__*/_jsxs(DropdownItem,{onClick:function onClick(){return changeLanguageAction(key);},className:\"notify-item \".concat(selectedLang===key?\"active\":\"none\"),children:[/*#__PURE__*/_jsx(\"img\",{src:get(languages,\"\".concat(key,\".flag\")),alt:\"Skote\",className:\"me-1\",height:\"12\"}),/*#__PURE__*/_jsx(\"span\",{className:\"align-middle\",children:get(languages,\"\".concat(key,\".label\"))})]},key);})})]})});};export default withTranslation()(LanguageDropdown);","map":{"version":3,"names":["React","useEffect","useState","Dropdown","DropdownItem","DropdownMenu","DropdownToggle","get","map","withTranslation","i18n","languages","LanguageDropdown","selectedLang","setSelectedLang","menu","setMenu","currentLanguage","localStorage","getItem","changeLanguageAction","lang","changeLanguage","setItem","toggle","Object","keys","key"],"sources":["D:/GitProjects/Manthan/src/components/CommonForBoth/TopbarDropdown/LanguageDropdown.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Dropdown,\r\n  DropdownItem,\r\n  DropdownMenu,\r\n  DropdownToggle,\r\n} from \"reactstrap\";\r\nimport { get, map } from \"lodash\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\n//i18n\r\nimport i18n from \"../../../i18n\";\r\nimport languages from \"../../../common/languages\";\r\n\r\nconst LanguageDropdown = () => {\r\n  // Declare a new state variable, which we'll call \"menu\"\r\n  const [selectedLang, setSelectedLang] = useState(\"\");\r\n  const [menu, setMenu] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const currentLanguage = localStorage.getItem(\"I18N_LANGUAGE\");\r\n    setSelectedLang(currentLanguage);\r\n  }, [])\r\n\r\n  const changeLanguageAction = lang => {\r\n    //set language as i18n\r\n    i18n.changeLanguage(lang);\r\n    localStorage.setItem(\"I18N_LANGUAGE\", lang);\r\n    setSelectedLang(lang);\r\n  }\r\n\r\n  const toggle = () => {\r\n    setMenu(!menu);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Dropdown isOpen={menu} toggle={toggle} className=\"d-inline-block\">\r\n        <DropdownToggle className=\"btn header-item \" tag=\"button\">\r\n          <img\r\n            src={get(languages, `${selectedLang}.flag`)}\r\n            alt=\"Skote\"\r\n            height=\"16\"\r\n            className=\"me-1\"\r\n          />\r\n        </DropdownToggle>\r\n        <DropdownMenu className=\"language-switch dropdown-menu-end\">\r\n          {map(Object.keys(languages), key => (\r\n            <DropdownItem\r\n              key={key}\r\n              onClick={() => changeLanguageAction(key)}\r\n              className={`notify-item ${selectedLang === key ? \"active\" : \"none\"\r\n                }`}\r\n            >\r\n              <img\r\n                src={get(languages, `${key}.flag`)}\r\n                alt=\"Skote\"\r\n                className=\"me-1\"\r\n                height=\"12\"\r\n              />\r\n              <span className=\"align-middle\">\r\n                {get(languages, `${key}.label`)}\r\n              </span>\r\n            </DropdownItem>\r\n          ))}\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withTranslation()(LanguageDropdown)\r\n"],"mappings":"yGAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OACEC,QADF,CAEEC,YAFF,CAGEC,YAHF,CAIEC,cAJF,KAKO,YALP,CAMA,OAASC,GAAT,CAAcC,GAAd,KAAyB,QAAzB,CACA,OAASC,eAAT,KAAgC,eAAhC,CAEA;AACA,MAAOC,KAAP,KAAiB,eAAjB,CACA,MAAOC,UAAP,KAAsB,2BAAtB,C,6IAEA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC7B;AACA,cAAwCV,QAAQ,CAAC,EAAD,CAAhD,wCAAOW,YAAP,eAAqBC,eAArB,eACA,eAAwBZ,QAAQ,CAAC,KAAD,CAAhC,yCAAOa,IAAP,eAAaC,OAAb,eAEAf,SAAS,CAAC,UAAM,CACd,GAAMgB,gBAAe,CAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAxB,CACAL,eAAe,CAACG,eAAD,CAAf,CACD,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMG,qBAAoB,CAAG,QAAvBA,qBAAuB,CAAAC,IAAI,CAAI,CACnC;AACAX,IAAI,CAACY,cAAL,CAAoBD,IAApB,EACAH,YAAY,CAACK,OAAb,CAAqB,eAArB,CAAsCF,IAAtC,EACAP,eAAe,CAACO,IAAD,CAAf,CACD,CALD,CAOA,GAAMG,OAAM,CAAG,QAATA,OAAS,EAAM,CACnBR,OAAO,CAAC,CAACD,IAAF,CAAP,CACD,CAFD,CAIA,mBACE,sCACE,MAAC,QAAD,EAAU,MAAM,CAAEA,IAAlB,CAAwB,MAAM,CAAES,MAAhC,CAAwC,SAAS,CAAC,gBAAlD,wBACE,KAAC,cAAD,EAAgB,SAAS,CAAC,kBAA1B,CAA6C,GAAG,CAAC,QAAjD,uBACE,YACE,GAAG,CAAEjB,GAAG,CAACI,SAAD,WAAeE,YAAf,UADV,CAEE,GAAG,CAAC,OAFN,CAGE,MAAM,CAAC,IAHT,CAIE,SAAS,CAAC,MAJZ,EADF,EADF,cASE,KAAC,YAAD,EAAc,SAAS,CAAC,mCAAxB,UACGL,GAAG,CAACiB,MAAM,CAACC,IAAP,CAAYf,SAAZ,CAAD,CAAyB,SAAAgB,GAAG,qBAC9B,MAAC,YAAD,EAEE,OAAO,CAAE,yBAAMP,qBAAoB,CAACO,GAAD,CAA1B,EAFX,CAGE,SAAS,uBAAiBd,YAAY,GAAKc,GAAjB,CAAuB,QAAvB,CAAkC,MAAnD,CAHX,wBAME,YACE,GAAG,CAAEpB,GAAG,CAACI,SAAD,WAAegB,GAAf,UADV,CAEE,GAAG,CAAC,OAFN,CAGE,SAAS,CAAC,MAHZ,CAIE,MAAM,CAAC,IAJT,EANF,cAYE,aAAM,SAAS,CAAC,cAAhB,UACGpB,GAAG,CAACI,SAAD,WAAegB,GAAf,WADN,EAZF,GACOA,GADP,CAD8B,EAA5B,CADN,EATF,GADF,EADF,CAkCD,CAvDD,CAyDA,cAAelB,gBAAe,GAAGG,gBAAH,CAA9B"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.save = exports.transform = exports.getMetaInfo = undefined;\n\nvar _fileSaver = require('file-saver');\n\nvar _fileSaver2 = _interopRequireDefault(_fileSaver);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar getMetaInfo = exports.getMetaInfo = function getMetaInfo(columns) {\n  return columns.map(function (column) {\n    return {\n      field: column.dataField,\n      type: column.csvType || String,\n      formatter: column.csvFormatter,\n      formatExtraData: column.formatExtraData,\n      header: column.csvText || column.text,\n      export: column.csvExport === false ? false : true,\n      row: Number(column.row) || 0,\n      rowSpan: Number(column.rowSpan) || 1,\n      colSpan: Number(column.colSpan) || 1,\n      footer: column.footer,\n      footerFormatter: column.footerFormatter\n    };\n  }).filter(function (_) {\n    return _.export;\n  });\n};\n/* eslint no-unneeded-ternary: 0 */\n\n\nvar transform = exports.transform = function transform(data, meta, columns, _, _ref) {\n  var separator = _ref.separator,\n      ignoreHeader = _ref.ignoreHeader,\n      ignoreFooter = _ref.ignoreFooter;\n  var visibleColumns = meta.filter(function (m) {\n    return m.export;\n  });\n  var content = ''; // extract csv header\n\n  if (!ignoreHeader) {\n    content += visibleColumns.map(function (m) {\n      return '\"' + m.header + '\"';\n    }).join(separator);\n    content += '\\n';\n  } // extract csv body\n\n\n  if (data.length === 0) return content;\n  content += data.map(function (row, rowIndex) {\n    return visibleColumns.map(function (m) {\n      var cellContent = _.get(row, m.field);\n\n      if (m.formatter) {\n        cellContent = m.formatter(cellContent, row, rowIndex, m.formatExtraData);\n      }\n\n      if (m.type === String) {\n        return '\"' + ('' + cellContent).replace(/\"/g, '\"\"') + '\"';\n      }\n\n      return cellContent;\n    }).join(separator);\n  }).join('\\n');\n\n  if (!ignoreFooter) {\n    content += '\\n';\n    content += visibleColumns.map(function (m, i) {\n      if (typeof m.footer === 'function') {\n        var columnData = _.pluck(data, columns[i].dataField);\n\n        return '\"' + m.footer(columnData, columns[i], i) + '\"';\n      } else if (m.footerFormatter) {\n        return '\"' + m.footerFormatter(columns[i], i) + '\"';\n      }\n\n      return '\"' + m.footer + '\"';\n    }).join(separator);\n  }\n\n  return content;\n};\n\nvar save = exports.save = function save(content, _ref2) {\n  var noAutoBOM = _ref2.noAutoBOM,\n      fileName = _ref2.fileName,\n      blobType = _ref2.blobType;\n\n  _fileSaver2.default.saveAs(new Blob([content], {\n    type: blobType\n  }), fileName, noAutoBOM);\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","save","transform","getMetaInfo","undefined","_fileSaver","require","_fileSaver2","_interopRequireDefault","obj","__esModule","default","columns","map","column","field","dataField","type","csvType","String","formatter","csvFormatter","formatExtraData","header","csvText","text","export","csvExport","row","Number","rowSpan","colSpan","footer","footerFormatter","filter","_","data","meta","_ref","separator","ignoreHeader","ignoreFooter","visibleColumns","m","content","join","length","rowIndex","cellContent","get","replace","i","columnData","pluck","_ref2","noAutoBOM","fileName","blobType","saveAs","Blob"],"sources":["D:/GitProjects/Manthan/node_modules/react-bootstrap-table2-toolkit/lib/src/csv/exporter.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.save = exports.transform = exports.getMetaInfo = undefined;\n\nvar _fileSaver = require('file-saver');\n\nvar _fileSaver2 = _interopRequireDefault(_fileSaver);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getMetaInfo = exports.getMetaInfo = function getMetaInfo(columns) {\n  return columns.map(function (column) {\n    return {\n      field: column.dataField,\n      type: column.csvType || String,\n      formatter: column.csvFormatter,\n      formatExtraData: column.formatExtraData,\n      header: column.csvText || column.text,\n      export: column.csvExport === false ? false : true,\n      row: Number(column.row) || 0,\n      rowSpan: Number(column.rowSpan) || 1,\n      colSpan: Number(column.colSpan) || 1,\n      footer: column.footer,\n      footerFormatter: column.footerFormatter\n    };\n  }).filter(function (_) {\n    return _.export;\n  });\n}; /* eslint no-unneeded-ternary: 0 */\nvar transform = exports.transform = function transform(data, meta, columns, _, _ref) {\n  var separator = _ref.separator,\n      ignoreHeader = _ref.ignoreHeader,\n      ignoreFooter = _ref.ignoreFooter;\n\n  var visibleColumns = meta.filter(function (m) {\n    return m.export;\n  });\n  var content = '';\n  // extract csv header\n  if (!ignoreHeader) {\n    content += visibleColumns.map(function (m) {\n      return '\"' + m.header + '\"';\n    }).join(separator);\n    content += '\\n';\n  }\n  // extract csv body\n  if (data.length === 0) return content;\n  content += data.map(function (row, rowIndex) {\n    return visibleColumns.map(function (m) {\n      var cellContent = _.get(row, m.field);\n      if (m.formatter) {\n        cellContent = m.formatter(cellContent, row, rowIndex, m.formatExtraData);\n      }\n      if (m.type === String) {\n        return '\"' + ('' + cellContent).replace(/\"/g, '\"\"') + '\"';\n      }\n      return cellContent;\n    }).join(separator);\n  }).join('\\n');\n\n  if (!ignoreFooter) {\n    content += '\\n';\n    content += visibleColumns.map(function (m, i) {\n      if (typeof m.footer === 'function') {\n        var columnData = _.pluck(data, columns[i].dataField);\n        return '\"' + m.footer(columnData, columns[i], i) + '\"';\n      } else if (m.footerFormatter) {\n        return '\"' + m.footerFormatter(columns[i], i) + '\"';\n      }\n      return '\"' + m.footer + '\"';\n    }).join(separator);\n  }\n  return content;\n};\n\nvar save = exports.save = function save(content, _ref2) {\n  var noAutoBOM = _ref2.noAutoBOM,\n      fileName = _ref2.fileName,\n      blobType = _ref2.blobType;\n\n  _fileSaver2.default.saveAs(new Blob([content], { type: blobType }), fileName, noAutoBOM);\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}